<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
  	<link rel="stylesheet" type="text/css" href="../../public/stylesheets/bgStyle.css">
  	<link rel="stylesheet" type="text/css" href="../../public/stylesheets/login.css">

    <title>Login | SID</title>
  </head>
  <body class='bg bge bgImg'>
    <p class="imgLocation">Image by Unsplash</p>
    <div id="target" class="fullScreen">
      <div class="id_input covra">
        <p class="SIDTITLE">STARTERGATE<strong>IDENTITY</strong></p>
        <div id="back" class='loginBack'>
          <button class='imgBtn'>
            <img src="../../public/frontend/beforeArrow.svg" alt="">
          </button>
          <div class='identity'>씨발씨발씨발</div>
        </div>
        <div class="padding15"></div>

        <p class="loginText" style="margin-bottom: 20px">Sign in</p>
        <form class='loginForm' action="">
          <div>
            <input type="text" id='id_input' name='id' class='sidInput' placeholder='ID'>
            <p class='sidInputError' id='idError'></p>
          </div>
          <input type="text" id='pw_input' name='pw' class='sidInput hidden' placeholder='비밀번호 입력'>
          <input type="text" id='pw_reinput' name='pwr' class='sidInput hidden' placeholder='비밀번호 재입력'>
          <input type="text" id='nk_input' name='nk' class='sidInput hidden' placeholder='닉네임 입력'>
          <div class='dummy' style='margin-bottom: 15px'></div>
          <div class='row towardBtn' style="margin-top: 20px;">
            <button class='btn btnContinue'>계속</button>
          </div>
        </form>
      </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="../../public/javascripts/sid.js" charset="utf-8"></script>
    <script type="text/javascript">
      const sid = new SID();
      var status = 'idEnter';
      var continueButton = $('.btnContinue')
      continueButton.click(function(event) {
        event.preventDefault();
        var id = $('#id_input').val()
        console.log('id ' + id);
        if (id != '') {
          sid.checkID(id, function(is_exist) {
            $('#id_input').addClass('hidden');
            $('#pw_input').removeClass('hidden');
            if (!is_exist) {
              $('#pw_reinput').removeClass('hidden');
              $('#nk_input').removeClass('hidden');
            }
          });
        } else {
          $('#idError').text('ID를 입력해주세요');
          $('#id_input').addClass('sidWarningInput')
        }
      })
    </script>
  </body>
</html>
